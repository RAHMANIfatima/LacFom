{% load static %}
<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="shortcut icon" href="{% static 'images/favicon.ico' %}" type="image/x-icon">
        <link rel="stylesheet" href="{% static 'css/colors.css' %}">
        <link rel="stylesheet" href="{% static 'css/parametres.css' %}">
        <title>Lacfom</title>
    </head>

    <body>
        <header class="my-4">
            <h3 class="text-start">Modification des paramètres</h3>
        </header>
        
        <div class="container">
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <input type="hidden" name="next" value="{{ request.META.HTTP_REFERER }}">
                
                <!-- Section Paramètres de détection de contamination -->
                <div class="card mb-4">
                    <div class="card-header section-header">
                        <h4>Paramètres de détection de contamination</h4>
                    </div>
                    <div class="card-body">
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="nmarqueurs" class="form-label">Nombre minimum de marqueurs informatifs contaminés (défaut : 2)</label>
                                <input type="number" id="nmarqueurs" name="nmarqueurs" class="form-control" value="{{ parametres.nmarqueurs }}">
                            </div>
                            <div class="col-md-6">
                                <label for="hpics" class="form-label">Hauteur des pics discriminant un allèle contaminé d'un allèle normal (défaut : 1/3)</label>
                                <input type="text" id="hpics" name="hpics" class="form-control" value="{{ parametres.hpics }}">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section Paramètres éditeur -->
                <div class="card mb-4">
                    <div class="card-header section-header">
                        <h4>Paramètres éditeur</h4>
                    </div>
                    <div class="card-body">
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="emet" class="form-label">Émetteur (défaut : PBP-P2A-GEN)</label>
                                <input type="text" id="emet" name="emet" class="form-control" value="{{ parametres.emet }}">
                            </div>
                            <div class="col-md-6">
                                <label for="enti" class="form-label">Entité d'application (défaut : PBP-PTBM)</label>
                                <input type="text" id="enti" name="enti" class="form-control" value="{{ parametres.enti }}">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section Paramètres kit -->
                <div class="card mb-4">
                    <div class="card-header section-header">
                        <h4>Paramètres kit</h4>
                    </div>
                    <div class="card-body">
                        <p>Changer de kit (défaut : PP16)</p>
                        <input type="file" id="json-file" name="json_file" accept=".json" class="form-control w-50">
                    </div>
                </div>

                <!-- Boutons d'action -->
                <div class="text-center">
                    <button type="submit" name="previous" class="btn btn-outline-secondary me-2">Retour</button>
                    <button type="submit" name="reset" value="Réinitialiser" class="btn btn-outline-warning me-2">Réinitialiser</button>
                    <button type="submit" class="btn btn-outline-success">Valider</button>
                </div>
            </form>

            <div class="text-center mt-4">
                <a href="{% url 'index' %}" id="Retour" class="btn btn-link">Retour à l'accueil</a>
            </div>
        </div>
    </body>
</html>